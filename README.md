# Дипломный проект по профессии «Тестировщик ПО»

Дипломный проект представляет собой автоматизацию тестирования комплексного сервиса, взаимодействующего с СУБД и API Банка.

---
## Документация
[План по автоматизации дипломного проекта](https://github.com/andreygork/DiplomQA/blob/master/Documentation/Plan.md)

[Отчёт по итогам проведённого тестирования](https://github.com/andreygork/DiplomQA/blob/master/Documentation/Report.md)

[Отчёт по итогам проведённой автоматизации](https://github.com/andreygork/DiplomQA/blob/master/Documentation/Summary.md)

---

## Описание приложения

### Бизнес часть

Приложение представляет собой веб-сервис по покупке тура.

![](https://raw.githubusercontent.com/netology-code/qa-diploma/master/pic/service.png)

Покупка тура возможна двумя способами

1. Обычная оплата по дебетовой карте
2. Оформление кредита по данным банковской карты

Само приложение не обрабатывает данные по картам, а пересылает их банковским сервисам:

* сервису платежей (далее - Payment Gate)
* кредитному сервису (далее - Credit Gate)

---
## Предварительные условия для запуска автотестов.

 На компьтере должны быть установленны следующие программы: Git, JDK 11, IntelliJ IDEA, Docker и дальнейший их настроенный запуск. Далее мы клонируем репозиторий на локальный компьютер с помощью команды в Git:

   ```
   git clone https://github.com/Tima02121991/Diplom.git
   ```
 После запускаем  ntelliJ IDEA и открывыем склонированный проект.

---

### Запуск контейнеров

1. Запустить необходимые базы данных (MySQL и PostgreSQL), а также NodeJS. Параметры для запуска хранятся в файле `docker-compose.yml`. Для запуска необходимо ввести в терминале команду:
```
docker-compose up
```
2. В новой вкладке терминала ввести следующую команду в зависимости от базы данных: 

`java "-Dspring.datasource.url=jdbc:mysql://localhost:3306/app" -jar .\artifacts\aqa-shop.jar`   - для MySQL

`java "-Dspring.datasource.url=jdbc::postgresql://localhost:5432/app" -jar .\artifacts\aqa-shop.jar` - для PostgreSQL


## Запуск тестов
В консоли, при помощи двойного нажатия клавиши "Ctrl", прописываем команду: "gradlew test -Dapp=jdbc:mysql://localhost:3306/app". 

## Перезапуск приложения и тестов
Если необходимо перезапустить приложение и/или тесты (например, для другой БД), необходимо выполнить остановку работы в запущенных ранее вкладках терминала, нажав в них Ctrl+С

## Формирование отчета AllureReport по результатам тестирования
Также с помощью двойного нажатия клавиши "Ctrl" открываем консоль и вводим:
```
gradle allureServe
```
Сгенерированный отчет откроется в браузере автоматически. После просмотра и закрытия отчета можно остановить работу команды, нажав Ctrl+С или закрыть вкладку Run и нажать Disconnect.